fury layer init
fury project add -n scala
fury module add -n compiler -t compiler
fury module update -C scala-lang.org:scala-compiler:2.12.8
fury binary add -b org.scala-lang:scala-compiler:2.12.8
fury project add -n hello-world2
fury module add -n app -c scala/compiler -t application -M HelloWorld
fury permission require -C java.util.PropertyPermission -T scala.maven.version.number -A read
fury permission require -C java.util.PropertyPermission -T scala.version.number -A read
fury permission require -C java.util.PropertyPermission -T scala.time -A read
fury permission require -C java.util.PropertyPermission -T scala.copyright.string -A read
fury permission require -C java.util.PropertyPermission -T test.property -A read
fury permission require -C java.lang.RuntimePermission -T getenv.TEST1
fury permission grant -P 0bc
fury permission grant -P 190
fury permission grant -P 4d1
fury permission grant -P 75e
fury permission grant -P cd7
fury permission grant -P d42
fury permission require -C java.io.FilePermission -T '.content' -A write
fury permission grant -P b7d
fury source add -d src
mkdir -p src
echo 'object HelloWorld extends App { new java.io.PrintWriter(".content") { write("Hello World 2\n"); close() } }' > src/hw.scala
fury build compile --output linear
echo $?
cat .content
